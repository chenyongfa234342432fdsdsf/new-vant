// src/common/markdown.ts
import path from "path";
import fse from "fs-extra";
import fm from "front-matter";
function getMarkdownContentMeta(filePath) {
  const mdString = fse.readFileSync(filePath, "utf-8");
  const headings = [];
  const lines = mdString.split("\n");
  for (let index = 0; index < lines.length; index++) {
    const line = lines[index];
    if (line.startsWith("#"))
      headings.push(line.replace(/^#+\s?/, ""));
  }
  const { attributes: frontmatter } = fm(mdString);
  return { frontmatter, headings };
}
function getTitleAndLangByFilepath(filePath) {
  const { name } = path.parse(filePath);
  const [title, lang] = name.split(".");
  return { title, lang };
}

export {
  getMarkdownContentMeta,
  getTitleAndLangByFilepath
};
