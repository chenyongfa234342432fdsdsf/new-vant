import { FilterPattern } from '@rollup/pluginutils';
import { PluginOption } from 'vite';

interface MDocDemoType {
    id?: string;
    name: string;
    code: string;
    inline: boolean;
    filePath?: string;
    props: {
        lang: string;
        dependencies: Record<string, {
            type: string;
            value: string;
        }>;
        key: string;
        meta: Record<string, any>;
    };
}
interface MDocOptions {
    include?: FilterPattern;
    exclude?: FilterPattern;
    /**
     * 接受预览的语言后缀
     * @default ["jsx","tsx"]
     */
    previewLangs?: string[];
    /**
     * 代码块被动渲染模式
     * 当为 true 时，仅将属于 previewLangs 且具有 preview 修饰符的代码块渲染为 ReactComponent 代码块。
     * 一般用于仅希望渲染 previewLangs 中的少部分代码块，而不是全部。
     */
    passivePreview?: boolean;
    /**
     * 手动收集deps
     * 由于各种原因可能代码依赖收集有部分缺失，用来手动补全依赖
     *
     * ```
     * 'localPkgs': {
     *  'react-vant': {
     *    'version': '2.0.0-alpha16'
     *  }
     * }
     * ```
     */
    localPkgs?: Record<string, {
        version: string;
        css?: string;
    }>;
    /**
     * 自定义替换html
     */
    replaceHtml?: (htmlString: string) => string;
}
declare const plugin: (options?: MDocOptions) => PluginOption;

export { MDocDemoType, MDocOptions, plugin as default };
